<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-122075277-7","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="NexClipper" href="/opensearch.xml"><title data-react-helmet="true">Prometheus Exporter &amp; ExporterHub | NexClipper</title><meta data-react-helmet="true" property="og:title" content="Prometheus Exporter &amp; ExporterHub | NexClipper"><meta data-react-helmet="true" name="description" content="í”„ë¡œë©”í…Œìš°ìŠ¤ ì˜¤í”ˆì†ŒìŠ¤ì˜ í•„ìˆ˜ êµ¬ì„±ìš”ì†Œì¸ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬, ìµìŠ¤í¬í„°ì— ëŒ€í•´ì„œ ì´ì•¼ê¸° í•˜ê³  í˜„ì¬ ê°œë°œ ì¤‘ì¸ [ExporterHub.io](http://exporterhub.io) ê³¼ í–¥í›„ NexClipperì˜ ë¡œë“œë§µë„ ê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤."><meta data-react-helmet="true" property="og:description" content="í”„ë¡œë©”í…Œìš°ìŠ¤ ì˜¤í”ˆì†ŒìŠ¤ì˜ í•„ìˆ˜ êµ¬ì„±ìš”ì†Œì¸ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬, ìµìŠ¤í¬í„°ì— ëŒ€í•´ì„œ ì´ì•¼ê¸° í•˜ê³  í˜„ì¬ ê°œë°œ ì¤‘ì¸ [ExporterHub.io](http://exporterhub.io) ê³¼ í–¥í›„ NexClipperì˜ ë¡œë“œë§µë„ ê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link rel="stylesheet" href="/styles.bdd5e959.css">
<link rel="preload" href="/styles.1bb52304.js" as="script">
<link rel="preload" href="/runtime~main.a081ac10.js" as="script">
<link rel="preload" href="/main.19c4a2b7.js" as="script">
<link rel="preload" href="/1.81468121.js" as="script">
<link rel="preload" href="/2.a7ae718d.js" as="script">
<link rel="preload" href="/3.24128f35.js" as="script">
<link rel="preload" href="/ccc49370.f6af7cfe.js" as="script">
<link rel="preload" href="/c3cb7597.cfbb2511.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/NexClipper_200.svg" alt="NexClipper Logo"><strong class="navbar__title">NexClipper</strong></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://NexClipper.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support</a></div><div class="navbar__items navbar__items--right"><a href="https://console.nexclipper.io/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a><a href="https://github.com/NexClipper/NexClipper" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/NexClipper_200.svg" alt="NexClipper Logo"><strong class="navbar__title">NexClipper</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://console.nexclipper.io/login" target="_blank" rel="noopener noreferrer" class="menu__link">Login</a></li><li class="menu__list-item"><a href="https://github.com/NexClipper/NexClipper" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a href="https://NexClipper.io" target="_blank" rel="noopener noreferrer" class="menu__link">Support</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Prometheus Exporter &amp; ExporterHub</h1><div class="margin-vert--md"><time datetime="2020-09-03T00:00:00.000Z" class="blogPostDate_3bQP">September 3, 2020  Â· 6 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/ddiiwoong" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/37430952?v=4" alt="Jinwoong Kim"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/ddiiwoong" target="_blank" rel="noreferrer noopener">Jinwoong Kim</a></h4><small class="avatar__subtitle">NexClipper</small></div></div></header><section class="markdown"><p>ì˜¤ëŠ˜ì€ Prometheus exporterì™€ ê´€ë ¨ëœ ë‚´ìš©ì„ ë‹¤ë¤„ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prometheus-ecosystem-components"></a>Prometheus ecosystem components<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prometheus-ecosystem-components" title="Direct link to heading">#</a></h3><p>í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ì¨ë“œ-íŒŒí‹° ì‹œìŠ¤í…œ(ì„œë¹„ìŠ¤)ì˜ ë©”íŠ¸ë¦­ì„ ê³„ì¸¡(instrumentation)í•˜ê²Œ ë˜ëŠ”ë° ì¼ë°˜ì ìœ¼ë¡œëŠ” íƒ€ê²Ÿ(target) ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ìŠ¤í¬ë˜í•‘(scrape)í•˜ê²Œ ë©ë‹ˆë‹¤.</p><ul><li>í”„ë¡œë©”í…Œìš°ìŠ¤ í¬íŠ¸ í• ë‹¹ ì°¸ê³  :Â <a href="https://github.com/prometheus/prometheus/wiki/Default-port-allocations" target="_blank" rel="noopener noreferrer">https://github.com/prometheus/prometheus/wiki/Default-port-allocations</a></li></ul><p>ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì„œë¹„ìŠ¤ë“¤ì´ í”„ë¡œë©”í…Œìš°ìŠ¤ í˜¸í™˜ë˜ëŠ” ë©”íŠ¸ë¦­ì„ ìƒì„±í•´ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í”„ë¡œë©”í…Œìš°ìŠ¤ íƒ€ê²Ÿì´ ë˜ëŠ” ìˆ˜ì§‘ ëŒ€ìƒì€ í¬ê²Œ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìµìŠ¤í¬í„° í˜•íƒœë¡œ ìˆ˜ì§‘ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library"></a>í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Client Library)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library" title="Direct link to heading">#</a></h3><p>ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•  ë•Œ ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ í”„ë¡œë©”í…Œìš°ìŠ¤ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ ë©”íŠ¸ë¦­ì„ ì½”ë“œ ì¸ë¼ì¸ ê¸°ë°˜ìœ¼ë¡œ ì§ì ‘ ì‘ì„±í•˜ê³  ê³„ì¸¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p><p>ê¸°ë³¸ì ìœ¼ë¡œ Go, Java(Scala), Python, Ruby ëŠ” ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p><ul><li>í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ : <a href="https://prometheus.io/docs/instrumenting/clientlibs/" target="_blank" rel="noopener noreferrer">https://prometheus.io/docs/instrumenting/clientlibs/</a></li></ul><p>ë¹„ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ìì²´ì ìœ¼ë¡œ ì‚¬ìš©ìë“¤ì´ ìš´ì˜ì„ í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œ ìœ ì§€ë³´ìˆ˜ ê´€ë ¨í•´ì„œë„ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•­ìƒ ë¦´ë¦¬ì¦ˆ ì •ë³´ë¥¼ í™•ì¸í•˜ë©´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ìµìŠ¤í¬í„°exporter"></a>ìµìŠ¤í¬í„°(Exporter)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ìµìŠ¤í¬í„°exporter" title="Direct link to heading">#</a></h3><p>ìµìŠ¤í¬í„°ëŠ” ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” íŒ¨í‚¤ì§•ëœ ì†Œí”„íŠ¸ì›¨ì–´ë‚˜ ì„œë“œ-íŒŒí‹° ì‹œìŠ¤í…œ(ì„œë¹„ìŠ¤)ë“±ì˜ ë©”íŠ¸ë¦­ì„ ë…¸ì¶œ(expose)í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³´í†µ ë²¤ë”ë‚˜ ì„œë¹„ìŠ¤ íšŒì‚¬ì—ì„œ ì§ì ‘ ë©”íŠ¸ë¦­ì„ expose í•˜ëŠ” ê²½ìš°ë„ ìˆì§€ë§Œ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œ ì»¤ë„ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ ì¥ë¹„, ìŠ¤í† ë¦¬ì§€, ë°ì´í„°ë² ì´ìŠ¤ì™€ ê°™ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê³„ì¸¡í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ë¡œ ìµìŠ¤í¬í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤.</p><p>ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ì»¤ë®¤ë‹ˆí‹°ì™€ ì‚¬ìš©ìë“¤ì´ ì œê³µí•˜ê³  ìˆê³  ìµìŠ¤í¬í„° í˜„í™©ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p><ul><li>Exporter : <a href="https://prometheus.io/docs/instrumenting/exporters/" target="_blank" rel="noopener noreferrer">https://prometheus.io/docs/instrumenting/exporters/</a></li><li><a href="http://exporterhub.io" target="_blank" rel="noopener noreferrer">ExporterHub.io</a> : ë„¥ìŠ¤í´ë¼ìš°ë“œì—ì„œ ìµœê·¼ ë°°í¬í•œ ìµìŠ¤í¬í„° ì¹´íƒˆë¡œê·¸ ë¦¬ìŠ¤íŠ¸</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library-ì‚¬ìš©"></a>í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Client Library) ì‚¬ìš©<a aria-hidden="true" tabindex="-1" class="hash-link" href="#í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library-ì‚¬ìš©" title="Direct link to heading">#</a></h3><p>í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì— ëŒ€í•œ ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤. ì½”ë“œëŠ” ì¼ì „ì— spinnaker ê¸°ë°˜ ì¹´ë‚˜ë¦¬ ë°°í¬ í…ŒìŠ¤íŠ¸ë•Œ í™œìš©í–ˆë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.</p><ul><li>Python í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ : <a href="https://github.com/prometheus/client_python" target="_blank" rel="noopener noreferrer">https://github.com/prometheus/client_python</a></li></ul><p>ì½”ë“œë¥¼ ê°„ë‹¨íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. app.pyëŠ” python flask ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í–ˆê³  prometheus_client ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•œ ìƒíƒœë¡œ ë©”íŠ¸ë¦­ HTTP endpoint(:8080)ë¥¼ ìœ„í•œ start_http_server ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.</p><p>ê°„ë‹¨íˆ internal 500 errorë¥¼ ì›í•˜ëŠ” ë¹„ìœ¨ë¡œ ë°œìƒì‹œí‚¤ê³  ì¸ìœ„ì ì¸ ë©”íŠ¸ë¦­ìœ¼ë¡œ í™•ì¸ì„ ìœ„í•´ success_rate ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  Gauge, Counter ë¡œ ê³„ì¸¡ì„ ìœ„í•´ì„œ Metric ì„œë²„(:8000)ë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬ì„± í•´ë´¤ìŠµë‹ˆë‹¤.</p><p>Counter ë©”íŠ¸ë¦­ íƒ€ì… í™•ì¸ì„ í•˜ê¸° ìœ„í•´ labelì„ http_code=&#x27;500&#x27;, http_code=&#x27;200&#x27; ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.</p><p>ë§ˆì§€ë§‰ìœ¼ë¡œ Gauge ë©”íŠ¸ë¦­ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•˜ê¸° ìœ„í•´ g.set(rate_responce) ë¡œ ì„¤ì •ë„ ì¶”ê°€í•©ë‹ˆë‹¤.</p><blockquote><p>exposeë˜ëŠ” endpointë‚˜ ìµìŠ¤í¬í„°ëŠ” ìœ„ì™€ ê°™ì´ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì„¤ì •í•´ë„ ë¬´ë°©í•˜ì§€ë§Œ /metrics ê²½ë¡œë¥¼ ê´€ë¡€ì²˜ëŸ¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆ) <a href="http://localhost:8000/metrics" target="_blank" rel="noopener noreferrer">http://localhost:8000/metrics</a></p></blockquote><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-python codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#!/usr/bin/env python</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> random </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> randrange</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> flask </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Flask</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> prometheus_client </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> start_http_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Gauge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> sys</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Flask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;python-library-test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">c </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;requests&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Number of requests served, by http code&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;http_code&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">g </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Gauge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rate_requests&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Rate of success requests&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">responce_500 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">responce_200 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rate_responce </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">success_rate </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> sys</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">argv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># internal 500 errorë¥¼ ì›í•˜ëŠ” ë¹„ìœ¨ë¡œ ë°œìƒì‹œí‚¤ê¸° ìœ„í•œ ì…ë ¥ ì¸ì</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@app</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">route</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">hello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">global</span><span class="token plain"> responce_500</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">global</span><span class="token plain"> responce_200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">global</span><span class="token plain"> rate_responce</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> randrange</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">success_rate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">http_code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;500&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        responce_500 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> responce_500 </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rate_responce </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> responce_500 </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">responce_500</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">responce_200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rate_responce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Internal Server Error\\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        c</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">http_code</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;200&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">inc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        responce_200 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> responce_200 </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rate_responce </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> responce_500 </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">responce_500</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">responce_200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        g</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token builtin" style="color:rgb(130, 170, 255)">set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rate_responce</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello World!\\n&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">start_http_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">8000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">host </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;0.0.0.0&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> port </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>í…ŒìŠ¤íŠ¸ ìš©ë„ì´ë‹ˆ ê°„ë‹¨í•˜ê²Œ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ pip install flask prometheus_client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ python app.py 50 # internal 500 errorë¥¼ ì›í•˜ëŠ” ë¹„ìœ¨ë¡œ ë°œìƒì‹œí‚¤ê¸° ìœ„í•œ ì…ë ¥ ì¸ì</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Serving Flask app &quot;python-library-test&quot; (lazy loading)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Environment: production</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   WARNING: This is a development server. Do not use it in a production deployment.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   Use a production WSGI server instead.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Debug mode: off</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * Running on &lt;http://0.0.0.0:8080/&gt; (Press CTRL+C to quit)</span></div></div></div></div></div><p>ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ ê°„ë‹¨í•˜ê²Œ ab ëª…ë ¹ì„ í™œìš©í•˜ì—¬ ë°˜ë³µ í˜¸ì¶œí•©ë‹ˆë‹¤.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ab -n 1000 http://localhost:8080/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Server Software:        Werkzeug/1.0.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Server Hostname:        localhost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Server Port:            8080</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Document Path:          /</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Document Length:        22 bytes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Concurrency Level:      1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Time taken for tests:   1.775 seconds</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Complete requests:      1000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Failed requests:        0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Non-2xx responses:      505</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>ê²°ê³¼ì—ì„œ ìì„¸íˆ ë´ì•¼í•˜ëŠ” ê²ƒì€ Complete requests, Non-2xx responses ì…ë‹ˆë‹¤.</p><p>ì…ë ¥ë°›ì€ ì¸ìì¸ 50í”„ë¡œ í™•ë¥ ë¡œ 1000ë²ˆ requestë¥¼ í•˜ì—¬ ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼°ê¸° ë•Œë¬¸ì— ì„±ê³µì€ 495ë²ˆ, ì—ëŸ¬ëŠ” 505ë²ˆ ë°œìƒí•œ ê²ƒìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ë©”íŠ¸ë¦­ì„ í™•ì¸í•˜ê¸° ìœ„í•´ exposeëœ 8000 í¬íŠ¸ë¡œ ì ‘ì†í•´ ë´…ë‹ˆë‹¤.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ curl localhost:8000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP python_gc_objects_collected_total Objects collected during gc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE python_gc_objects_collected_total counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_collected_total{generation=&quot;0&quot;} 18055.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_collected_total{generation=&quot;1&quot;} 2461.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_collected_total{generation=&quot;2&quot;} 0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP python_gc_objects_uncollectable_total Uncollectable object found during GC</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE python_gc_objects_uncollectable_total counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_uncollectable_total{generation=&quot;0&quot;} 0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_uncollectable_total{generation=&quot;1&quot;} 0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_objects_uncollectable_total{generation=&quot;2&quot;} 0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP python_gc_collections_total Number of times this generation was collected</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE python_gc_collections_total counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_collections_total{generation=&quot;0&quot;} 82.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_collections_total{generation=&quot;1&quot;} 7.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_gc_collections_total{generation=&quot;2&quot;} 0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP python_info Python platform information</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE python_info gauge</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python_info{implementation=&quot;CPython&quot;,major=&quot;3&quot;,minor=&quot;8&quot;,patchlevel=&quot;3&quot;,version=&quot;3.8.3&quot;} 1.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP requests_total Number of requests served, by http code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE requests_total counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">requests_total{http_code=&quot;500&quot;} 505.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">requests_total{http_code=&quot;200&quot;} 495.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP requests_created Number of requests served, by http code</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE requests_created gauge</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">requests_created{http_code=&quot;500&quot;} 1.5990454944853382e+09</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">requests_created{http_code=&quot;200&quot;} 1.599045494488697e+09</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP rate_requests Rate of success requests</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE rate_requests gauge</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rate_requests 50.5</span></div></div></div></div></div><p>ì œê°€ ì‘ì„±í•œ Counterì¸ http_code=&#x27;500&#x27;, http_code=&#x27;200&#x27; ë¥¼ ë³´ë©´ ìœ„ ab ì—ì„œ í™•ì¸í•œ ë©”íŠ¸ë¦­ê³¼ ë™ì¼í•¨ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ê·¸ë¦¬ê³  Gaugeë¡œ ì„¤ì •í•œ rate_requestsë¥¼ ë³´ë©´ success rateê°€ 50í”„ë¡œì˜ ë¹„ìœ¨ì„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ìµìŠ¤í¬í„°-ì‚¬ìš©"></a>ìµìŠ¤í¬í„° ì‚¬ìš©<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ìµìŠ¤í¬í„°-ì‚¬ìš©" title="Direct link to heading">#</a></h3><p>ì €ëŠ” í˜„ì¬ MacOSë¥¼ ì‚¬ìš©ì¤‘ì´ê³  í˜¸ìŠ¤íŠ¸ ë©”íŠ¸ë¦­ì„ í™•ì¸í•˜ê¸° ìœ„í•´ node_exporterë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><ul><li>node_exporter : <a href="https://github.com/prometheus/node_exporter" target="_blank" rel="noopener noreferrer">https://github.com/prometheus/node_exporter</a></li></ul><p>node_exporterëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ê³µì‹ì ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆëŠ” ìµìŠ¤í¬í„°ë¡œ ì €ëŠ” ë°”ì´ë„ˆë¦¬ë¥¼ ë°›ì•„ì„œ ê°™ë‹¨í•˜ê²Œ ì‹¤í–‰í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p><p>ìœ„ì—ì„œë„ ì ê¹ ì–¸ê¸‰í–ˆë“¯ì´ ì´ë²ˆì— ë„¥ìŠ¤í´ë¼ìš°ë“œì—ì„œ ì»¤ë®¤ë‹ˆí‹° ì‚¬ìš©ìë“¤ì„ ìœ„í•´ íë ˆì´ì…˜ í˜ì´ì§€ë¡œ ì˜¤í”ˆí•œ <a href="https://exporterhub.io" target="_blank" rel="noopener noreferrer">https://exporterhub.io</a> ì—ì„œ Node Exporter ë¥¼ íƒìƒ‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><p><img src="/assets/images/1*5hGUwC7FtdMqOxizd5UHFQ-4ad7b712b34963c48c21fa3ea5d12866.png"></p><p><a href="https://github.com/NexClipper/exporterhub.io/blob/master/lists/node/README.md" target="_blank" rel="noopener noreferrer">https://github.com/NexClipper/exporterhub.io/blob/master/lists/node/README.md</a></p><p>ë§í¬ëœ ìœ„ readme í˜ì´ì§€ë¥¼ ì°¸ê³ í•´ì„œ macOS ë¡œì»¬ì— node_exporterë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ë°”ì´ë„ˆë¦¬ë¡œ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•´ë„ ë˜ì§€ë§Œ macì—ì„œëŠ” í˜¸ìŠ¤íŠ¸ ë„¤íŠ¸ì›Œí¬ ê´€ë ¨ê°€ ìˆì–´ì„œ ì§ì ‘ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ wget  https://github.com/prometheus/node_exporter/releases/download/v1.0.1/node_exporter-1.0.1.darwin-amd64.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ tar -xzf node_exporter-1.0.1.darwin-amd64.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd node_exporter-1.0.1.darwin-amd64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./node_exporter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.309Z caller=node_exporter.go:177 msg=&quot;Starting node_exporter&quot; version=&quot;(version=1.0.1, branch=HEAD, revision=3715be6ae899f2a9b9dbfd9c39f3e09a7bd4559f)&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.309Z caller=node_exporter.go:178 msg=&quot;Build context&quot; build_context=&quot;(go=go1.14.4, user=root@4c8e5c628328, date=20200616-12:52:07)&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.309Z caller=node_exporter.go:105 msg=&quot;Enabled collectors&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.309Z caller=node_exporter.go:112 collector=boottime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=cpu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=diskstats</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=filesystem</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=loadavg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=meminfo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=netdev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=textfile</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:112 collector=uname</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=node_exporter.go:191 msg=&quot;Listening on&quot; address=:9100</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">level=info ts=2020-09-02T12:31:03.310Z caller=tls_config.go:170 msg=&quot;TLS is disabled and it cannot be enabled on the fly.&quot; http2=false</span></div></div></div></div></div><p>ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ ì˜ˆì•½ëœ í¬íŠ¸ì •ë³´ë“¤ì´ ìˆê³  /metrics ì—”ë“œí¬ì¸íŠ¸ë¡œ expose ë˜ë¯€ë¡œ <a href="http://localhost:9100/metrics" target="_blank" rel="noopener noreferrer">http://localhost:9100/metrics</a> ì— ì ‘ì†í•´ ë´…ë‹ˆë‹¤. í˜„ì¬ ì‚¬ìš©ì¤‘ì¸ macbookì˜ ë¨¸ì‹  ë©”íŠ¸ë¦­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ curl http://localhost:9100/metrics</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># HELP node_cpu_seconds_total Seconds the cpus spent in each mode.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># TYPE node_cpu_seconds_total counter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;0&quot;,mode=&quot;idle&quot;} 25639.47</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;0&quot;,mode=&quot;nice&quot;} 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;0&quot;,mode=&quot;system&quot;} 6361.26</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;0&quot;,mode=&quot;user&quot;} 12627.86</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;1&quot;,mode=&quot;idle&quot;} 37124.82</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;1&quot;,mode=&quot;nice&quot;} 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;1&quot;,mode=&quot;system&quot;} 2697.6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;1&quot;,mode=&quot;user&quot;} 4805.51</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;2&quot;,mode=&quot;idle&quot;} 26546.08</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;2&quot;,mode=&quot;nice&quot;} 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;2&quot;,mode=&quot;system&quot;} 5505.62</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;2&quot;,mode=&quot;user&quot;} 12576.23</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;3&quot;,mode=&quot;idle&quot;} 37708.71</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;3&quot;,mode=&quot;nice&quot;} 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;3&quot;,mode=&quot;system&quot;} 2413.04</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">node_cpu_seconds_total{cpu=&quot;3&quot;,mode=&quot;user&quot;} 4506.18</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><p>ì´í›„ í”„ë¡œë©”í…Œìš°ìŠ¤ì™€ ì—°ë™í•˜ëŠ” ê³¼ì •ì€ ì„¤ì • ë³€ê²½ ì‚¬í•­ì´ë¯€ë¡œ ë”°ë¡œ ì–¸ê¸‰í•˜ì§€ëŠ” ì•Šê² ìŠµë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="exporterhubio"></a>ExporterHub.io<a aria-hidden="true" tabindex="-1" class="hash-link" href="#exporterhubio" title="Direct link to heading">#</a></h3><p><a href="http://exporterhub.io/" target="_blank" rel="noopener noreferrer">ExporterHub.io</a> ëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ ì»¤ë®¤ë‹ˆí‹° ìœ ì €ë¥¼ ìœ„í•´ ì œì‘ë˜ì—ˆê³ , awesome í”„ë¡œì íŠ¸ì™€ ìœ ì‚¬í•˜ê²Œ íë ˆì´ì…˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ëŠ” ëª©ì ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p><p>ë‹¨ìˆœíˆ íë ˆì´ì…˜ ì •ë³´ ë¿ë§Œ ì•„ë‹ˆë¼ ìœ„ì™€ ê°™ì€ ê°„ë‹¨í•œ ì„¤ì¹˜ ê°€ì´ë“œ, alertrule ì„¤ì •, ëŒ€ì‹œë³´ë“œ ê´€ë ¨ ì •ë³´ë“¤ì„ í•œë²ˆì— ë³¼ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.</p><p>í–¥í›„ ë¡œë“œë§µì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p><ul><li>ìµìŠ¤í¬í„° ë³„ alert-rule ìƒì„±</li><li>ê²€ìƒ‰, í˜ì´ì§€ ê³ ë„í™”, ë¦´ë¦¬ì¦ˆ ì—…ë°ì´íŠ¸ ì—°ë™</li><li>NexClipper Cloud ì„œë¹„ìŠ¤ í†µí•©</li></ul><p>í•˜ë°˜ê¸° ì¤‘ì— NexClipper Cloud ì„œë¹„ìŠ¤ë¥¼ ì˜¤í”ˆ ì˜ˆì •ì´ê³  ë‚´ë…„ ì •ì‹ ì¶œì‹œì „ì— í”„ë¡œë©”í…Œìš°ìŠ¤ ì—ì½”ì‹œìŠ¤í…œ ê´€ë ¨ ì—¬ëŸ¬ê°€ì§€ í¸ì˜ ê¸°ëŠ¥ì„ í¬í•¨ í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p><p>ì§ì ‘ ê°œë°œì¤‘ì¸ exporterê°€ ìˆìœ¼ì‹œê±°ë‚˜ ìˆ˜ì •ì´ë‚˜ ê°œì„ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ issue, PR ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ì •ë¦¬"></a><strong>ì •ë¦¬</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ì •ë¦¬" title="Direct link to heading">#</a></h3><p>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ ì˜¤í”ˆì†ŒìŠ¤ì˜ í•„ìˆ˜ êµ¬ì„±ìš”ì†Œì¸ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬, ìµìŠ¤í¬í„°ì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•´ë´¤ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  í˜„ì¬ ê°œë°œ ì¤‘ì¸ <a href="http://exporterhub.io" target="_blank" rel="noopener noreferrer">ExporterHub.io</a> ê³¼ í–¥í›„ NexClipperì˜ ë¡œë“œë§µë„ ê°™ì´ ì„¤ëª…ë“œë ¸ìŠµë‹ˆë‹¤.</p><p>ë¸”ë¡œê·¸ ë‚´ìš©ì„ í¬í•¨í•œ ì €í¬ì˜ ëª¨ë“  ê¸°ìˆ ê³¼ ì œí’ˆì— ëŒ€í•œ ë‹¤ì–‘í•œ í”¼ë“œë°± ë¶€íƒë“œë¦¬ê³ , ì–¸ì œë“ ì§€ ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œê±°ë‚˜ ì±„ìš© ë° ê¸°ìˆ  ë¯¸íŒ… ë“± í•„ìš”í•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ <a href="mailto:support@nexclipper.io" target="_blank" rel="noopener noreferrer">support@nexclipper.io</a> ë¡œ ì—°ë½ ì£¼ì‹œë©´ ë¹ ë¥¸ ì‹œê°„ ë‚´ì— íšŒì‹  ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ë„¥ìŠ¤í´ë¼ìš°ë“œ-ì†Œê°œ-ë°-ì±„ìš©"></a><strong>ë„¥ìŠ¤í´ë¼ìš°ë“œ ì†Œê°œ ë° ì±„ìš©</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ë„¥ìŠ¤í´ë¼ìš°ë“œ-ì†Œê°œ-ë°-ì±„ìš©" title="Direct link to heading">#</a></h3><p><a href="https://www.nexclipper.io/" target="_blank" rel="noopener noreferrer">ë„¥ìŠ¤í´ë¼ìš°ë“œ</a>ëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ í´ë¼ìš°ë“œ ê¸°ìˆ  íšŒì‚¬ì…ë‹ˆë‹¤.</p><p>2020ë…„ í•˜ë°˜ê¸°ë¶€í„° ë³¸ê²©ì ì¸ ê¸€ë¡œë²Œ ì‚¬ì—…ì„ ìœ„í•´ í˜„ì¬ ë¯¸êµ­ ë²•ì¸ ì„¤ë¦½ì„ ì§„í–‰ ì¤‘ì´ë©° ëŠ¥ë ¥ìˆëŠ” ë¶„ë“¤ì„ ëª¨ì‹œê³  ìˆìŠµë‹ˆë‹¤.</p><p><a href="https://www.notion.so/Engineer-a83352e7b6a24bbbb1ac77bf83a7026b" target="_blank" rel="noopener noreferrer">ê°œë°œì (Engineer) ë¶€ë¬¸</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/prometheus">Prometheus</a><a class="margin-horiz--sm" href="/blog/tags/exporter">Exporter</a></div></footer></article><div><a href="https://github.com/NexClipper/docs/edit/master/blog/blog/2020-09-03-prometheus-exporter-exporterhub.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2020/09/25/prometheus-exporter-exporterhub-en"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Prometheus Exporter &amp; ExporterHub (Eng.)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2020/08/14/prometheus-exporterhub-io-release"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Prometheus ExporterHub.io release Â»</div></a></div></nav></div></div><div class="col col--2"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prometheus-ecosystem-components" class="table-of-contents__link">Prometheus ecosystem components</a></li><li><a href="#í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library" class="table-of-contents__link">í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Client Library)</a></li><li><a href="#ìµìŠ¤í¬í„°exporter" class="table-of-contents__link">ìµìŠ¤í¬í„°(Exporter)</a></li><li><a href="#í´ë¼ì´ì–¸íŠ¸-ë¼ì´ë¸ŒëŸ¬ë¦¬client-library-ì‚¬ìš©" class="table-of-contents__link">í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬(Client Library) ì‚¬ìš©</a></li><li><a href="#ìµìŠ¤í¬í„°-ì‚¬ìš©" class="table-of-contents__link">ìµìŠ¤í¬í„° ì‚¬ìš©</a></li><li><a href="#exporterhubio" class="table-of-contents__link">ExporterHub.io</a></li><li><a href="#ì •ë¦¬" class="table-of-contents__link"><strong>ì •ë¦¬</strong></a></li><li><a href="#ë„¥ìŠ¤í´ë¼ìš°ë“œ-ì†Œê°œ-ë°-ì±„ìš©" class="table-of-contents__link"><strong>ë„¥ìŠ¤í´ë¼ìš°ë“œ ì†Œê°œ ë° ì±„ìš©</strong></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/start">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/">What is NexClipper?</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://nexclipper.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/nexclipper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.facebook.com/NexClipper/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/NexClipper/NexClipper" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 NexCloud, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.1bb52304.js"></script>
<script src="/runtime~main.a081ac10.js"></script>
<script src="/main.19c4a2b7.js"></script>
<script src="/1.81468121.js"></script>
<script src="/2.a7ae718d.js"></script>
<script src="/3.24128f35.js"></script>
<script src="/ccc49370.f6af7cfe.js"></script>
<script src="/c3cb7597.cfbb2511.js"></script>
</body>
</html>